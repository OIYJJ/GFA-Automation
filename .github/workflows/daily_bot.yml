name: GFA Marketing Bot (Lee's PC)

# 1. ì–¸ì œ ì‹¤í–‰í• ê¹Œ? -> 'workflow_dispatch'ëŠ” ìˆ˜ë™(ë²„íŠ¼) ì‹¤í–‰ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
on:
  workflow_dispatch:

jobs:
  run-local-marketing-bot:
    runs-on: self-hosted  # [í•µì‹¬] GitHub ì„œë²„ê°€ ì•„ë‹ˆë¼ Leeë‹˜ì˜ PCì—ì„œ ì‹¤í–‰í•©ë‹ˆë‹¤.
    
    steps:
      - name: 1. ìë™í™” ì‹œì‘ & í•œê¸€ ì„¤ì •
        shell: cmd
        run: |
          chcp 65001
          echo "ğŸš€ [Start] GFA ë§ˆì¼€íŒ… ë´‡ì„ ê°€ë™í•©ë‹ˆë‹¤..."

      - name: 2. í¬ë¡¬ ë””ë²„ê¹… ëª¨ë“œ ì‹¤í–‰ (ìƒˆ ì°½ ë„ìš°ê¸°)
        shell: cmd
        run: |
          echo "ğŸŒ í¬ë¡¬ ë¸Œë¼ìš°ì €ë¥¼ ì—½ë‹ˆë‹¤..."
          start "" "C:\Program Files\Google\Chrome\Application\chrome.exe" --remote-debugging-port=9222 --user-data-dir="C:\chrometemp"
          timeout /t 10

      - name: 3. GFA ë°ì´í„° ìˆ˜ì§‘ (Python)
        shell: cmd
        run: |
          echo "ğŸ” ë°ì´í„° ìˆ˜ì§‘ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ì¤‘..."
          cd /d "C:\Users\82108\Desktop\ì—…ë¬´ìë™í™”"
          python gfa_bot_final.py

      - name: 4. êµ¬ê¸€ ì‹œíŠ¸ ì—…ë¡œë“œ (Python)
        shell: cmd
        run: |
          echo "â˜ï¸ êµ¬ê¸€ ì‹œíŠ¸ ì—…ë¡œë“œ ìŠ¤í¬ë¦½íŠ¸ ì‹¤í–‰ ì¤‘..."
          cd /d "C:\Users\82108\Desktop\ì—…ë¬´ìë™í™”"
          python gfa_to_sheet.py

      - name: 5. ì‘ì—… ì™„ë£Œ ë° PC ì¢…ë£Œ (ì•ˆì „ì¥ì¹˜ 60ì´ˆ)
        shell: cmd
        run: |
          echo "âœ… ëª¨ë“  ì‘ì—… ì™„ë£Œ! 60ì´ˆ ë’¤ PCê°€ ì¢…ë£Œë©ë‹ˆë‹¤."
          echo "ì·¨ì†Œí•˜ë ¤ë©´ ì‹¤í–‰ì°½(Win+R)ì— 'shutdown -a'ë¥¼ ì…ë ¥í•˜ì„¸ìš”."
          shutdown -s -f -t 60
